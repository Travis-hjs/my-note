<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Material-UI</title>
        <link rel="stylesheet" href="">
        <style>
            *{ padding: 0; margin: 0; }
            html, body{ background-color: #f4f4f4; -webkit-touch-callout:none; -webkit-text-size-adjust: none; -webkit-tap-highlight-color:rgba(0, 0, 0, 0); -webkit-user-select:none; }
            li{ list-style: none; }
            a{ text-decoration-style: none; }
            img{ display: block; width: 100%; }
            h1,h2,h3,h4,h5,h6{ font-weight: 400; }
            .wrap{ width: 100%; max-width: 680px; margin: 0 auto; box-sizing: border-box; padding: 60px 20px 20px; background-color: #fff; }
            header{ width: 100%; height: 50px; text-align: center; line-height: 50px; background-color: #2196f3; position: fixed; top: 0; left: 0; z-index: 10;}
            header .menu-item{ padding: 5px 15px 6px; font-size: 16px; color: #fff; border-radius: 4px; transition: .3s all; cursor: pointer; }
            header .menu-item:hover{ background-color: rgba(0,0,0,0.3); }
            .card-list, .btn-list{ width: 100%; }
            .card-list li{ margin-bottom: 40px; }
            .text-box{ width: 100%; box-sizing: border-box; padding: 20px 40px; font-size: 15px; color: #333; }
            .text-box h2{ font-size: 22px; margin-bottom: 10px; }
            .btn-list li{ padding: 10px; text-align: center; }
            .btn-list .rectangle{ padding: 6px 15px 7px; color: #fff; font-size: 15px; display: inline-block; border-radius: 4px; cursor: pointer; }
            .btn-list .circular{ width: 60px; height: 60px; line-height: 60px; font-size: 15px; display: inline-block; color: #fff; border-radius: 50%; background-color: #2196f3; overflow: hidden; cursor: pointer; }
            .btn-list .long{ width: 80%; height: 44px; color: #fff; border-radius: 4px; background-color: #2196f3; display: inline-block; line-height: 44px; }
            /* menu */
            .header-shadow{ box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12); margin-bottom: 10px; }
            /* cards */
            .card{ box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12); }
            /* btn */
            .button{ box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12); transition: .3s all; }
            .button:active{ box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); }
            .button-circular{ box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12); transition: .3s all; }
            .button-circular:active{ box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12); }
            /* flex */
            .flex{ display: flex; flex-wrap: wrap; }
		    .f1{ flex: 1; }
            /* ripple CSS */
            [ripple]{ position: relative; cursor: pointer; }
            [ripple] canvas{ position: absolute; top: 0; left: 0; opacity: 0.3; transition: 0.2s all; }
            /* hide */
            .hide{ display: none; }
        </style>
    </head>
    <body>
        <header class="header-shadow flex">
            <div class="f1">
                <span class="menu-item" onclick="menuSwitch(0)">cards</span>
            </div>
            <div class="f1">
                <span class="menu-item" onclick="menuSwitch(1)">button</span>
            </div>
            <div class="f1">
                <span class="menu-item" onclick="menuSwitch(2)">progress</span>
            </div>
        </header>
        <div class="wrap">
            <ul class="card-list section"></ul>
            <ul class="btn-list section hide">
                <li>
                    <span class="button rectangle" ripple="#fff" onclick="rippleClick(this)" style="background-color: #2196f3">default</span>
                </li>
                <li>
                    <span class="button rectangle" ripple="#fff" onclick="rippleClick(this)" style="background-color: orange">warning</span>
                </li>
                <li>
                    <span class="button rectangle" ripple="#fff" onclick="rippleClick(this)" style="background-color: rgb(225, 0, 80)">delete</span>
                </li>
                <li>
                    <span class="button-circular circular" ripple="#fff" onclick="rippleClick(this)">circula</span>
                </li>
                <li>
                    <span class="button long" ripple="#bbddf9" onclick="rippleClick(this)">button</span>
                </li>
            </ul>
            <ul class="progress-list section hide">
                <li>
                    <div class="progress"></div>
                </li>
            </ul>
        </div>
        <script>
            function createCrads(_num) {
                let _li = '';
                for (let i = 0; i < _num; i++) {
                    _li += `<li class="card">
                        <img src="https://material-ui.com/static/images/cards/contemplative-reptile.jpg" alt="">
                        <div class="text-box">
                            <h2>蜥蜴</h2>
                            <p>蜥蜴是广泛的squamate爬行动物，有超过6000种，遍布各大洲，除了南极洲</p>
                        </div>
                    </li>`;               
                }
                document.querySelector('.card-list').innerHTML = _li;
            }
            createCrads(10);
            let state = 0;
            function menuSwitch(_num) {
                if (state === _num) return;
                state = _num;
                let _boxs = document.querySelectorAll('.section');
                for (let i = 0; i < _boxs.length; i++) {
                    if (i == _num) {
                        _boxs[i].classList.remove('hide');
                    }else{
                        _boxs[i].classList.add('hide');
                    }
                }
            }
            /**
            * 水波纹点击
            */
            function rippleClick(el) {
                let canvas = document.createElement('canvas'),
                    context = {},
                    centerX = 0,
                    centerY = 0,
                    radius = 0,
                    scale = 8,  // 这个值和扩散速度有关
                    color = el.getAttribute('ripple') || '#999999',
                    myAinmFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame,
                    ev = window.event || arguments.callee.caller.arguments[0];   // 解决firefox没有event
                el.appendChild(canvas);
                canvas.style.width = canvas.style.height = '100%';
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                // console.log(canvas.width, canvas.height);
                context = canvas.getContext('2d');
                centerX = ev.offsetX;
                centerY = ev.offsetY;
                // console.log(ev.target, arguments);
                // console.log(canvas.width, canvas.height, centerX, centerY);
                // context.clearRect(0, 0, canvas.width, canvas.height);
                if (canvas.offsetWidth <= 60) {
                    scale = 3;
                }else if (canvas.offsetWidth > 150) {
                    scale = 15;
                }
                // 开始绘画
                function draw() {
                    // context.beginPath();
                    context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
                    context.fillStyle = color;
                    context.fill();
                    radius += scale;
                    // canvas.style.opacity = ((canvas.width / radius) / 10).toFixed(1);
                    // console.log(((canvas.width / radius) / 10).toFixed(1));

                    // console.log(`绘画半径：${ radius }，canvas宽度：${ canvas.width }`);
                    if (radius < canvas.width) {
                        myAinmFrame(draw);
                    } else if (radius >= canvas.width) {
                        canvas.style.opacity = '0';
                        setTimeout(() => {
                            el.removeChild(canvas);
                        }, 200);
                    }
                }
                draw();
            }
        </script>
    </body>
</html>